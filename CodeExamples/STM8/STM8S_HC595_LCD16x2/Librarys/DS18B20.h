/*******************************************************************************
                       Copyright by Pham Van Lap KMT
********************************************************************************
** File Name        : DS18B20.H
** Version          : 1.0
** Author           : Pham Van Lap
** Create Date      : 10/12/2018
** Company          : FPT Software
** Email            : quoclaptk@gmail.com
** Phone Numbers    : 0886560383 or 0963836272
*******************************************************************************/

/*******************************************************************************
                             Revision History
********************************************************************************
**    Date              Author                           Detail
** ----------       --------------      ----------------------------------------
** 10/12/2018        Pham Van Lap                      Create new
*******************************************************************************/
#ifndef _DS18B20_H_
#define _DS18B20_H_
/*******************************************************************************
                          Include Files
*******************************************************************************/
#include "stm8s.h"
#include "DELAY.h"
/*******************************************************************************
                          Macros/Constants
*******************************************************************************/
#define DS18B20_DQ_PORT           GPIOC
#define DS18B20_DQ_PIN            GPIO_PIN_6
#define DS18B20_DQ_OUTPUT_MODE    GPIO_Init(DS18B20_DQ_PORT, DS18B20_DQ_PIN, GPIO_MODE_OUT_OD_HIZ_SLOW)
#define DS18B20_DQ_INPUT_MODE     GPIO_Init(DS18B20_DQ_PORT, DS18B20_DQ_PIN, GPIO_MODE_IN_FL_NO_IT)
#define DS18B20_DQ_LOW            GPIO_WriteLow(DS18B20_DQ_PORT, DS18B20_DQ_PIN)
#define DS18B20_DQ_HIGH           GPIO_WriteHigh(DS18B20_DQ_PORT, DS18B20_DQ_PIN)
#define DS18B20_DQ_INPUT          GPIO_ReadInputPin(DS18B20_DQ_PORT, DS18B20_DQ_PIN)
/*******************************************************************************
                          Struct/Enums
*******************************************************************************/

/*******************************************************************************
                          Function Prototypes
*******************************************************************************/
void DS18B20_Init(void);
void DS18B20_WriteByte(uint8_t data);
uint8_t DS18B20_ReadByte(void);
float DS18B20_ReadTemperature(void);
/******************************************************************************/
#endif
/*******************************************************************************
******************************** END OF FILE ***********************************
*******************************************************************************/